(()=>{var e={};e.id=902,e.ids=[902],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},7919:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(5020),r(5392),r(5866);var s=r(3191),a=r(8716),l=r(7922),n=r.n(l),i=r(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let d=["",{children:["progreso",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5020)),"/home/runner/workspace/app/progreso/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,4697))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,5392)),"/home/runner/workspace/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,4697))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/runner/workspace/app/progreso/page.tsx"],u="/progreso/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/progreso/page",pathname:"/progreso",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},533:(e,t,r)=>{Promise.resolve().then(r.bind(r,1646))},1646:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>B});var s=r(326),a=r(7577),l=r(4130);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}r(962);var i=Symbol("radix.slottable");function o(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===i}var d=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=function(e){let t=function(e){let t=a.forwardRef((e,t)=>{let{children:r,...s}=e;if(a.isValidElement(r)){let e,l;let i=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref,o=function(e,t){let r={...t};for(let s in t){let a=e[s],l=t[s];/^on[A-Z]/.test(s)?a&&l?r[s]=(...e)=>{l(...e),a(...e)}:a&&(r[s]=a):"style"===s?r[s]={...a,...l}:"className"===s&&(r[s]=[a,l].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props);return r.type!==a.Fragment&&(o.ref=t?function(...e){return t=>{let r=!1,s=e.map(e=>{let s=n(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():n(e[t],null)}}}}(t,i):i),a.cloneElement(r,o)}return a.Children.count(r)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=a.forwardRef((e,r)=>{let{children:l,...n}=e,i=a.Children.toArray(l),d=i.find(o);if(d){let e=d.props.children,l=i.map(t=>t!==d?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,s.jsx)(t,{...n,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,l):null})}return(0,s.jsx)(t,{...n,ref:r,children:l})});return r.displayName=`${e}.Slot`,r}(`Primitive.${t}`),l=a.forwardRef((e,a)=>{let{asChild:l,...n}=e,i=l?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(i,{...n,ref:a})});return l.displayName=`Primitive.${t}`,{...e,[t]:l}},{}),c="Progress",[u,m]=function(e,t=[]){let r=[],l=()=>{let t=r.map(e=>a.createContext(e));return function(r){let s=r?.[e]||t;return a.useMemo(()=>({[`__scope${e}`]:{...r,[e]:s}}),[r,s])}};return l.scopeName=e,[function(t,l){let n=a.createContext(l),i=r.length;r=[...r,l];let o=t=>{let{scope:r,children:l,...o}=t,d=r?.[e]?.[i]||n,c=a.useMemo(()=>o,Object.values(o));return(0,s.jsx)(d.Provider,{value:c,children:l})};return o.displayName=t+"Provider",[o,function(r,s){let o=s?.[e]?.[i]||n,d=a.useContext(o);if(d)return d;if(void 0!==l)return l;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=r.reduce((t,{useScope:r,scopeName:s})=>{let a=r(e)[`__scope${s}`];return{...t,...a}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}(l,...t)]}(c),[p,x]=u(c),f=a.forwardRef((e,t)=>{var r,a;let{__scopeProgress:l,value:n=null,max:i,getValueLabel:o=v,...c}=e;(i||0===i)&&!b(i)&&console.error((r=`${i}`,`Invalid prop \`max\` of value \`${r}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let u=b(i)?i:100;null===n||y(n,u)||console.error((a=`${n}`,`Invalid prop \`value\` of value \`${a}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let m=y(n,u)?n:null,x=N(m)?o(m,u):void 0;return(0,s.jsx)(p,{scope:l,value:m,max:u,children:(0,s.jsx)(d.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":N(m)?m:void 0,"aria-valuetext":x,role:"progressbar","data-state":j(m,u),"data-value":m??void 0,"data-max":u,...c,ref:t})})});f.displayName=c;var h="ProgressIndicator",g=a.forwardRef((e,t)=>{let{__scopeProgress:r,...a}=e,l=x(h,r);return(0,s.jsx)(d.div,{"data-state":j(l.value,l.max),"data-value":l.value??void 0,"data-max":l.max,...a,ref:t})});function v(e,t){return`${Math.round(e/t*100)}%`}function j(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function N(e){return"number"==typeof e}function b(e){return N(e)&&!isNaN(e)&&e>0}function y(e,t){return N(e)&&!isNaN(e)&&e<=t&&e>=0}g.displayName=h;let w=a.forwardRef(({className:e="",value:t,...r},a)=>s.jsx(f,{ref:a,className:`relative h-4 w-full overflow-hidden rounded-full bg-muted ${e}`,...r,children:s.jsx(g,{className:"h-full w-full flex-1 bg-primary transition-all duration-300 ease-in-out",style:{transform:`translateX(-${100-(t||0)}%)`}})}));function k({current:e,total:t,label:r,showPercentage:a=!0,className:l=""}){let n=t>0?Math.round(e/t*100):0;return(0,s.jsxs)("div",{className:`space-y-2 ${l}`,"data-testid":"progress-bar",children:[r&&(0,s.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"font-medium",children:r}),a&&(0,s.jsxs)("span",{className:"text-muted-foreground",children:[e,"/",t," (",n,"%)"]})]}),s.jsx(w,{value:n,className:"h-2","data-testid":"progress-bar-indicator"})]})}w.displayName=f.displayName;var P=r(2881);let $=(0,P.Z)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),C=a.forwardRef(({className:e="",...t},r)=>s.jsx("div",{ref:r,className:`rounded-md border border-card-border bg-card text-card-foreground ${e}`,...t}));C.displayName="Card";let _=a.forwardRef(({className:e="",...t},r)=>s.jsx("div",{ref:r,className:`flex flex-col space-y-1.5 p-6 ${e}`,...t}));_.displayName="CardHeader";let R=a.forwardRef(({className:e="",...t},r)=>s.jsx("h3",{ref:r,className:`text-2xl font-semibold leading-none tracking-tight ${e}`,...t}));R.displayName="CardTitle",a.forwardRef(({className:e="",...t},r)=>s.jsx("p",{ref:r,className:`text-sm text-muted-foreground ${e}`,...t})).displayName="CardDescription";let z=a.forwardRef(({className:e="",...t},r)=>s.jsx("div",{ref:r,className:`p-6 pt-0 ${e}`,...t}));function A({currentStreak:e,longestStreak:t,className:r=""}){return s.jsx(C,{className:`${r}`,"data-testid":"streak-counter",children:s.jsx(z,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-3 rounded-full ${e>0?"bg-orange-100 dark:bg-orange-900":"bg-muted"}`,children:s.jsx($,{className:`w-6 h-6 ${e>0?"text-orange-600 dark:text-orange-400":"text-muted-foreground"}`})}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-2xl font-bold","data-testid":"current-streak",children:e}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Racha actual"})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[s.jsx("p",{className:"text-xl font-semibold text-muted-foreground","data-testid":"longest-streak",children:t}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Mejor racha"})]})]})})})}z.displayName="CardContent",a.forwardRef(({className:e="",...t},r)=>s.jsx("div",{ref:r,className:`flex items-center p-6 pt-0 ${e}`,...t})).displayName="CardFooter";let M=(0,P.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);function S({badges:e,maxDisplay:t,className:r=""}){let a=e.filter(e=>e.unlocked),l=t?e.slice(0,t):e;return(0,s.jsxs)("div",{className:`space-y-4 ${r}`,"data-testid":"badge-display",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Insignias"}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground","data-testid":"badge-count",children:[a.length,"/",e.length]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:l.map(e=>s.jsx(C,{className:`transition-all ${e.unlocked?"hover-elevate":"opacity-50"}`,"data-testid":`badge-${e.id}`,children:(0,s.jsxs)(z,{className:"p-4 flex flex-col items-center text-center space-y-2",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx("span",{className:"text-4xl",children:e.icon}),!e.unlocked&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/80 rounded-full",children:s.jsx(M,{className:"w-5 h-5 text-muted-foreground"})})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium text-sm",children:e.name}),s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:e.description})]})]})},e.id))})]})}function q({title:e,value:t,description:r,icon:a,className:l=""}){return(0,s.jsxs)(C,{className:l,"data-testid":`stats-card-${e.toLowerCase().replace(/\s/g,"-")}`,children:[(0,s.jsxs)(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(R,{className:"text-sm font-medium",children:e}),a&&s.jsx(a,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(z,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"stats-value",children:t}),r&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:r})]})]})}let E=(0,P.Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var O=r(6343);let Z=(0,P.Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var I=r(997);let G=(0,P.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var V=r(434);let D={a1:"A1 - Principiante",a2:"A2 - Elemental",b1:"B1 - Intermedio",b2:"B2 - Intermedio Alto",c1:"C1 - Avanzado",c2:"C2 - Maestr\xeda"},T={a1:"/spanish-audio-for-beginners-a1",a2:"/spanish-audio-for-beginners-a2",b1:"/intermediate-spanish-b1",b2:"/intermediate-spanish-b2",c1:"/advanced-spanish-c1",c2:"/advanced-spanish-c2"};function B(){let[e,t]=(0,a.useState)(null),[r,n]=(0,a.useState)([]);if(!e)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-pulse",children:"Cargando..."})});(0,l.Lb)(e);let i=Object.values(e.audioProgress).filter(e=>e.completed).length,o=Object.values(e.audioProgress).filter(e=>e.quizAttempts>0).length,d=e.badges.filter(e=>e.unlocked).length,c=Object.values(e.audioProgress).map(e=>e.quizScore).filter(e=>void 0!==e),u=c.length>0?Math.round(c.reduce((e,t)=>e+t,0)/c.length):0;return s.jsx("div",{className:"min-h-screen bg-background",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:"Mi Progreso"}),s.jsx("p",{className:"text-muted-foreground",children:"Sigue tu avance en el aprendizaje del espa\xf1ol"})]}),s.jsx("div",{className:"mb-8",children:s.jsx(k,{current:i,total:36,label:"Progreso General",className:"mb-4"})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[s.jsx(q,{title:"Audios Completados",value:i,description:"de 36 totales",icon:E}),s.jsx(q,{title:"Quizzes Realizados",value:o,description:"evaluaciones hechas",icon:O.Z}),s.jsx(q,{title:"Precisi\xf3n Promedio",value:`${u}%`,description:"en tus quizzes",icon:Z}),s.jsx(q,{title:"Insignias",value:`${d}/${e.badges.length}`,description:"logros desbloqueados",icon:I.Z})]}),s.jsx("div",{className:"mb-8",children:s.jsx(A,{currentStreak:e.streak.currentStreak,longestStreak:e.streak.longestStreak})}),(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Progreso por Nivel"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(e=>s.jsx(V.default,{href:T[e.level],className:"block","data-testid":`level-progress-${e.level}`,children:(0,s.jsxs)("div",{className:"p-6 rounded-md border border-card-border bg-card hover-elevate transition-all",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("h3",{className:"font-semibold text-lg",children:D[e.level]}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:[e.completedAudios,"/",e.totalAudios]})]}),s.jsx(k,{current:e.completedAudios,total:e.totalAudios,showPercentage:!1}),(0,s.jsxs)("div",{className:"mt-3 flex gap-4 text-sm text-muted-foreground",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[s.jsx(O.Z,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:[e.totalQuizzes," quizzes"]})]}),e.averageScore>0&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[s.jsx(G,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:[e.averageScore,"% promedio"]})]})]})]})},e.level))})]}),s.jsx("div",{children:s.jsx(S,{badges:e.badges})})]})})}},6343:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},5020:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`/home/runner/workspace/app/progreso/page.tsx#default`)},4697:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(6621);let a=e=>[{type:"image/svg+xml",sizes:"any",url:(0,s.fillMetadataSegment)(".",e.params,"icon.svg")+"?0defed0d5a8ba94b"}]}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,572,621,591],()=>r(7919));module.exports=s})();