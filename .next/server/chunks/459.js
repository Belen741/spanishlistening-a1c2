"use strict";exports.id=459,exports.ids=[459],exports.modules={1273:(e,t,a)=>{a.d(t,{AdSlot:()=>l});var s=a(326);function l({slot:e,className:t=""}){return s.jsx("div",{className:`flex items-center justify-center bg-muted rounded-lg border-2 border-dashed border-border ${{header:"min-h-[90px] md:min-h-[90px]",sidebar:"min-h-[250px] md:min-h-[600px]","in-content":"min-h-[280px]",footer:"min-h-[90px]"}[e]} ${t}`,"data-testid":`ad-slot-${e}`})}},8198:(e,t,a)=>{a.d(t,{LevelPageClient:()=>B});var s=a(326),l=a(7577),r=a(3265),i=a(361),n=a(8998),d=a(4893);function o({id:e,title:t,duration:a,snippet:l,level:r,onPlayClick:o,listenPercentage:c=0}){return(0,s.jsxs)("div",{className:"bg-card rounded-xl border p-4 hover-elevate active-elevate-2 transition-all relative","data-testid":`card-audio-${e}`,children:[c>=90&&(0,s.jsxs)("div",{className:"absolute top-3 right-3 flex items-center gap-1.5 bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full text-xs font-medium border border-green-500/20","data-testid":`badge-completed-${e}`,children:[s.jsx(i.Z,{className:"h-3.5 w-3.5"}),s.jsx("span",{children:"Escuchado"})]}),c>0&&c<90&&(0,s.jsxs)("div",{className:"absolute top-3 right-3 flex items-center gap-1.5 bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 px-2.5 py-1 rounded-full text-xs font-medium border border-yellow-500/20","data-testid":`badge-in-progress-${e}`,children:[s.jsx(n.Z,{className:"h-3.5 w-3.5"}),s.jsx("span",{children:"En progreso"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-1 pr-24","data-testid":`text-audio-title-${e}`,children:t}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2","data-testid":`text-audio-duration-${e}`,children:a}),l&&s.jsx("p",{className:"text-sm text-muted-foreground italic line-clamp-2","data-testid":`text-audio-snippet-${e}`,children:l})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>{o?.()},className:"p-3 rounded-full bg-primary text-primary-foreground hover-elevate active-elevate-2 border-2 border-primary-border","aria-label":"Reproducir audio","data-testid":`button-play-${e}`,children:s.jsx(d.Z,{className:"h-4 w-4 ml-0.5"})}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Click to listen"})]})]})]})}var c=a(4019),u=a(1059),m=a(6283),x=a(3062);function p({isOpen:e,onClose:t,audio:a,isPlaying:l,onPlayPause:r,onShowTranscript:i,onShowQuiz:n}){return e?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",onClick:t,"data-testid":"modal-audio-overlay",children:(0,s.jsxs)("div",{className:"bg-background border rounded-xl shadow-lg max-w-2xl w-full p-6 space-y-6",onClick:e=>e.stopPropagation(),"data-testid":"modal-audio-content",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold pr-8","data-testid":"text-modal-title",children:a.title}),s.jsx("button",{onClick:t,className:"p-2 rounded-lg hover-elevate active-elevate-2","aria-label":"Cerrar modal","data-testid":"button-modal-close",children:s.jsx(c.Z,{className:"h-5 w-5"})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"bg-accent/20 border rounded-lg p-6 flex items-center justify-center gap-4",children:[s.jsx("button",{onClick:r,className:"p-4 rounded-full bg-primary text-primary-foreground hover-elevate active-elevate-2 border-2 border-primary-border","aria-label":l?"Pausar audio":"Reproducir audio","data-testid":"button-play-pause",children:l?s.jsx(u.Z,{className:"h-8 w-8"}):s.jsx(d.Z,{className:"h-8 w-8"})}),s.jsx("div",{className:"text-sm text-muted-foreground",children:l?"Reproduciendo...":"Haz clic para reproducir"})]}),a.snippet&&s.jsx("div",{className:"bg-muted/50 rounded-lg p-4 border",children:s.jsx("p",{className:"text-sm text-muted-foreground italic leading-relaxed","data-testid":"text-transcript-snippet",children:a.snippet})})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,s.jsxs)("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover-elevate active-elevate-2 border-2 border-primary-border","data-testid":"button-show-transcript",children:[s.jsx(m.Z,{className:"h-4 w-4"}),"\uD83D\uDCDD Ver transcripci\xf3n completa"]}),(0,s.jsxs)("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 bg-accent text-accent-foreground rounded-lg hover-elevate active-elevate-2 border","data-testid":"button-show-quiz",children:[s.jsx(x.Z,{className:"h-4 w-4"}),"â“ Hacer quiz"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"\uD83D\uDCA1 El audio continuar\xe1 reproduci\xe9ndose mientras navegas por la transcripci\xf3n o el quiz"})]})}):null}var h=a(434),g=a(4230),b=a(9798);let v={a1:{next:"A2",url:"/spanish-audio-for-beginners-a2",label:"Ir al nivel A2"},a2:{next:"B1",url:"/intermediate-spanish-b1",label:"Ir al nivel B1"},b1:{next:"B2",url:"/intermediate-spanish-b2",label:"Ir al nivel B2"},b2:{next:"C1",url:"/advanced-spanish-c1",label:"Ir al nivel C1"},c1:{next:"C2",url:"/advanced-spanish-c2",label:"Ir al nivel C2"},c2:{}};function f({currentLevel:e}){let t=v[e];return(0,s.jsxs)("div",{className:"bg-accent/30 border rounded-xl p-6 space-y-4 mt-8","data-testid":"next-level-cta",children:[(0,s.jsxs)("div",{className:"text-center space-y-2",children:[s.jsx("p",{className:"text-lg font-semibold",children:"\uD83C\uDFAF \xbfListo para el siguiente reto?"}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["\uD83D\uDC49 ",t.next?`Explora los audios del nivel ${t.next}`:"Completa tus audios favoritos"," o repite tus favoritos."]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[t.next&&t.url&&(0,s.jsxs)(h.default,{href:t.url,className:"flex items-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-lg hover-elevate active-elevate-2 border-2 border-primary-border font-medium","data-testid":"button-next-level",children:[t.label,s.jsx(g.Z,{className:"h-4 w-4"})]}),(0,s.jsxs)(h.default,{href:"/spanish-listening",className:"flex items-center gap-2 px-6 py-3 bg-background border rounded-lg hover-elevate active-elevate-2 font-medium","data-testid":"button-back-home",children:[s.jsx(b.Z,{className:"h-4 w-4"}),"Volver al inicio"]})]})]})}var j=a(7506),y=a(1291),N=a(1890),w=a(9183),C=a(4130);function S({level:e,pageSize:t=12,onAudioSelect:a}){let[r,i]=(0,l.useState)(null),[n,m]=(0,l.useState)(1),[x,h]=(0,l.useState)(!0),[g,b]=(0,l.useState)(null),[v,S]=(0,l.useState)(null),[k,P]=(0,l.useState)(!1),[T,Z]=(0,l.useState)(null),[A,z]=(0,l.useState)(null),[$,I]=(0,l.useState)(!1),[B,D]=(0,l.useState)({}),E=(0,l.useRef)(null),L=(0,l.useRef)(0),q=e=>{let t=r?.items.find(t=>t.id===e);t&&(A?.id!==t.id&&(E.current&&(E.current.pause(),E.current.currentTime=0,E.current.src=t.file,E.current.load()),z(t),I(!1)),Z(t),P(!0))},R=()=>{E.current&&($?E.current.pause():E.current.play().catch(e=>{console.error("Error playing audio:",e)}))};return x?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 space-y-4","data-testid":"loading-state",children:[s.jsx(j.Z,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Cargando audios..."})]}):g?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 space-y-4","data-testid":"error-state",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-destructive",children:[s.jsx(y.Z,{className:"h-6 w-6"}),s.jsx("p",{className:"font-medium",children:g})]}),s.jsx("button",{onClick:()=>{m(n)},className:"px-4 py-2 rounded-md bg-primary text-primary-foreground hover-elevate active-elevate-2 border-2 border-primary-border","data-testid":"button-retry",children:"Reintentar"})]}):r&&0!==r.items.length?(0,s.jsxs)(s.Fragment,{children:[s.jsx("audio",{ref:E,preload:"none",onPlay:()=>{I(!0),A&&((0,C._d)(A.id,A.level,0),D(e=>({...e,[A.id]:0})),L.current=0)},onTimeUpdate:()=>{if(A&&E.current){let e=E.current.currentTime,t=E.current.duration;if(t>0){let a=Math.floor(e/t*100);(a>=L.current+5||a>=90)&&((0,C._d)(A.id,A.level,a),L.current=a,D(e=>({...e,[A.id]:a})))}}},onPause:()=>I(!1),onEnded:()=>{I(!1),A&&((0,C._d)(A.id,A.level,100),L.current=100,D(e=>({...e,[A.id]:100})))},className:"hidden"}),A&&!k&&(0,s.jsxs)("div",{className:"fixed bottom-4 right-4 bg-background border-2 rounded-xl shadow-lg p-4 flex items-center gap-3 z-40 max-w-sm","data-testid":"mini-player",children:[s.jsx("button",{onClick:R,className:"p-2 rounded-full bg-primary text-primary-foreground hover-elevate active-elevate-2 border-2 border-primary-border flex-shrink-0","aria-label":$?"Pausar":"Reproducir","data-testid":"button-mini-play-pause",children:$?s.jsx(u.Z,{className:"h-5 w-5"}):s.jsx(d.Z,{className:"h-5 w-5"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:A.title}),s.jsx("p",{className:"text-xs text-muted-foreground",children:$?"Reproduciendo...":"Pausado"})]}),s.jsx("button",{onClick:()=>{E.current&&(E.current.pause(),E.current.currentTime=0),z(null),I(!1)},className:"p-2 rounded-lg hover-elevate active-elevate-2 flex-shrink-0","aria-label":"Cerrar reproductor","data-testid":"button-mini-close",children:s.jsx(c.Z,{className:"h-4 w-4"})})]}),(0,s.jsxs)("div",{className:"space-y-8","data-testid":"paginated-audio-list",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.items.map(e=>s.jsx(o,{id:e.id,title:e.title,duration:e.duration,snippet:e.snippet,level:e.level,onPlayClick:()=>q(e.id),listenPercentage:B[e.id]||0},e.id))}),r.totalPages>1&&(0,s.jsxs)("div",{className:"flex items-center justify-center gap-4 pt-8 border-t",children:[(0,s.jsxs)("button",{onClick:()=>{n>1&&(m(n-1),window.scrollTo({top:0,behavior:"smooth"}))},disabled:1===n,className:"flex items-center gap-2 px-4 py-2 rounded-md border hover-elevate active-elevate-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:no-default-hover-elevate","data-testid":"button-previous-page",children:[s.jsx(N.Z,{className:"h-4 w-4"}),"Anterior"]}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground","data-testid":"text-page-info",children:["P\xe1gina ",n," de ",r.totalPages]}),(0,s.jsxs)("button",{onClick:()=>{r&&n<r.totalPages&&(m(n+1),window.scrollTo({top:0,behavior:"smooth"}))},disabled:n===r.totalPages,className:"flex items-center gap-2 px-4 py-2 rounded-md border hover-elevate active-elevate-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:no-default-hover-elevate","data-testid":"button-next-page",children:["Siguiente",s.jsx(w.Z,{className:"h-4 w-4"})]})]}),r.total>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{className:"text-center text-sm text-muted-foreground","data-testid":"text-total-audios",children:[r.total," ",1===r.total?"audio":"audios"," en total"]}),s.jsx(f,{currentLevel:e})]})]}),T&&s.jsx(p,{isOpen:k,onClose:()=>{P(!1)},audio:{id:T.id,title:T.title,file:T.file,snippet:T.snippet,level:T.level},isPlaying:$,onPlayPause:R,onShowTranscript:()=>{T&&(S(T.id),P(!1),a?.(T),setTimeout(()=>{let e=document.getElementById("transcript-section");if(e){let t=e.getBoundingClientRect().top+window.pageYOffset+-100;window.scrollTo({top:t,behavior:"smooth"}),setTimeout(()=>{let e=document.querySelector('[data-testid="button-toggle-transcript"]');e&&"false"===e.getAttribute("aria-expanded")&&e.click()},400)}},300))},onShowQuiz:()=>{T&&(S(T.id),P(!1),a?.(T),setTimeout(()=>{let e=document.getElementById("quiz-section");if(e){let t=e.getBoundingClientRect().top+window.pageYOffset+-100;window.scrollTo({top:t,behavior:"smooth"})}},300))}})]}):s.jsx("div",{className:"flex flex-col items-center justify-center py-16 space-y-4","data-testid":"empty-state",children:s.jsx("p",{className:"text-lg text-muted-foreground",children:"No hay audios disponibles en este nivel."})})}var k=a(9389),P=a(6343),T=a(8393),Z=a(7142);function A({hasSelectedAudio:e,currentLevelSlug:t}){let[a,r]=(0,l.useState)(""),[i,n]=(0,l.useState)(!1),d=e=>{let t=document.getElementById(e);if(t){let e=t.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:e,behavior:"smooth"})}},o=[{id:"audio-list",label:"Lista de Audios",icon:k.Z,alwaysShow:!0},{id:"audio-content",label:"Contenido del Audio",icon:m.Z,alwaysShow:!1},{id:"transcript-section",label:"Transcripci\xf3n",icon:m.Z,alwaysShow:!1},{id:"vocab-section",label:"Vocabulario",icon:P.Z,alwaysShow:!1},{id:"quiz-section",label:"Quiz",icon:x.Z,alwaysShow:!1}],c=Z.zq.filter(e=>e.slug!==t);return(0,s.jsxs)("nav",{className:"sticky top-4 space-y-6","data-testid":"table-of-contents",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-muted-foreground mb-4 px-3",children:"\xcdNDICE"}),s.jsx("div",{className:"space-y-1",children:o.map(t=>{if(!(t.alwaysShow||e))return null;let l=t.icon,r=a===t.id;return(0,s.jsxs)("button",{onClick:()=>d(t.id),className:`
                  w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors text-left
                  ${r?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover-elevate active-elevate-2"}
                `,"aria-current":r?"location":void 0,"data-testid":`toc-link-${t.id}`,children:[s.jsx(l,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{children:t.label})]},t.id)})})]}),(0,s.jsxs)("div",{className:"border-t pt-4",children:[(0,s.jsxs)("button",{onClick:()=>n(!i),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm font-semibold text-muted-foreground hover-elevate active-elevate-2 transition-colors","data-testid":"button-toggle-levels","aria-expanded":i,"aria-controls":"other-levels-menu",children:[s.jsx("span",{children:"OTROS NIVELES"}),s.jsx(T.Z,{className:`h-4 w-4 transition-transform duration-200 ${i?"rotate-180":""}`})]}),i&&s.jsx("div",{id:"other-levels-menu",className:"space-y-1 mt-2",children:c.map(e=>(0,s.jsxs)(h.default,{href:e.url,className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors text-muted-foreground hover-elevate active-elevate-2","data-testid":`toc-link-level-${e.slug}`,children:[s.jsx("div",{className:"h-4 w-4 rounded-sm flex-shrink-0",style:{backgroundColor:e.color}}),(0,s.jsxs)("span",{children:["Nivel ",e.name]})]},e.slug))})]})]})}let z=(0,r.default)(()=>a.e(232).then(a.bind(a,8232)).then(e=>({default:e.Transcript})),{loadableGenerated:{modules:["components/LevelPageClient.tsx -> @components/Transcript"]},loading:()=>s.jsx("div",{className:"h-32 bg-card rounded-xl border animate-pulse"})}),$=(0,r.default)(()=>a.e(569).then(a.bind(a,7605)).then(e=>({default:e.VocabList})),{loadableGenerated:{modules:["components/LevelPageClient.tsx -> @components/VocabList"]},loading:()=>s.jsx("div",{className:"h-48 bg-card rounded-xl border animate-pulse"})}),I=(0,r.default)(async()=>{},{loadableGenerated:{modules:["components/LevelPageClient.tsx -> @components/Quiz"]},loading:()=>s.jsx("div",{className:"h-96 bg-card rounded-xl border animate-pulse"}),ssr:!1});function B({levelSlug:e}){let[t,a]=(0,l.useState)(null);return(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[220px_1fr] gap-8",children:[s.jsx("aside",{className:"hidden lg:block",children:s.jsx(A,{hasSelectedAudio:!!t,currentLevelSlug:e})}),(0,s.jsxs)("div",{className:"space-y-8",children:[s.jsx("div",{id:"audio-list",children:s.jsx(S,{level:e,onAudioSelect:a})}),t&&(0,s.jsxs)("div",{className:"space-y-8 mt-12 pt-8 border-t",id:"audio-content",children:[s.jsx("div",{children:s.jsx("h2",{className:"text-2xl font-bold mb-6","data-testid":"text-selected-audio-title",children:t.title})}),s.jsx("div",{id:"transcript-section",children:s.jsx(z,{text:t.transcript})}),s.jsx("div",{id:"vocab-section",children:s.jsx($,{items:t.vocab})}),s.jsx("div",{id:"quiz-section",children:s.jsx(I,{questions:t.quiz,levelSlug:`${e}-${t.id}`,audioId:t.id,level:t.level})})]})]})]})}},7142:(e,t,a)=>{a.d(t,{zq:()=>s});let s=[{slug:"a1",name:"A1",description:"Principiante - Conversaciones b\xe1sicas del d\xeda a d\xeda",color:"hsl(180 70% 50%)",url:"/spanish-audio-for-beginners-a1"},{slug:"a2",name:"A2",description:"Elemental - Situaciones cotidianas y familiares",color:"hsl(200 70% 50%)",url:"/spanish-audio-for-beginners-a2"},{slug:"b1",name:"B1",description:"Intermedio - Temas conocidos y de inter\xe9s personal",color:"hsl(220 70% 50%)",url:"/intermediate-spanish-b1"},{slug:"b2",name:"B2",description:"Intermedio Alto - Textos complejos y abstractos",color:"hsl(240 70% 50%)",url:"/intermediate-spanish-b2"},{slug:"c1",name:"C1",description:"Avanzado - Textos largos y exigentes",color:"hsl(260 45% 75%)",url:"/advanced-spanish-c1"},{slug:"c2",name:"C2",description:"Maestr\xeda - Comprensi\xf3n total y expresi\xf3n precisa",color:"hsl(280 45% 75%)",url:"/advanced-spanish-c2"}]},2849:(e,t,a)=>{a.d(t,{U:()=>s});let s=(0,a(8570).createProxy)(String.raw`/home/runner/workspace/components/AdSlot.tsx#AdSlot`)},3778:(e,t,a)=>{a.d(t,{I:()=>s});let s=(0,a(8570).createProxy)(String.raw`/home/runner/workspace/components/LevelPageClient.tsx#LevelPageClient`)},2878:(e,t,a)=>{a.d(t,{H4:()=>l,YX:()=>r,zq:()=>s});let s=[{slug:"a1",name:"A1",description:"Principiante - Conversaciones b\xe1sicas del d\xeda a d\xeda",color:"hsl(180 70% 50%)",url:"/spanish-audio-for-beginners-a1"},{slug:"a2",name:"A2",description:"Elemental - Situaciones cotidianas y familiares",color:"hsl(200 70% 50%)",url:"/spanish-audio-for-beginners-a2"},{slug:"b1",name:"B1",description:"Intermedio - Temas conocidos y de inter\xe9s personal",color:"hsl(220 70% 50%)",url:"/intermediate-spanish-b1"},{slug:"b2",name:"B2",description:"Intermedio Alto - Textos complejos y abstractos",color:"hsl(240 70% 50%)",url:"/intermediate-spanish-b2"},{slug:"c1",name:"C1",description:"Avanzado - Textos largos y exigentes",color:"hsl(260 45% 75%)",url:"/advanced-spanish-c1"},{slug:"c2",name:"C2",description:"Maestr\xeda - Comprensi\xf3n total y expresi\xf3n precisa",color:"hsl(280 45% 75%)",url:"/advanced-spanish-c2"}];function l(e){return s.find(t=>t.slug===e)}function r(e){return s.some(t=>t.slug===e)}},4697:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var s=a(6621);let l=e=>[{type:"image/svg+xml",sizes:"any",url:(0,s.fillMetadataSegment)(".",e.params,"icon.svg")+"?0defed0d5a8ba94b"}]}};