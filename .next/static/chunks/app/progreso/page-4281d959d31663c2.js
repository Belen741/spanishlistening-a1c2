(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[902],{7325:function(e,t,a){Promise.resolve().then(a.bind(a,6394))},6394:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return C}});var s=a(7437),r=a(2265),l=a(2119),i=a(6772);let o=r.forwardRef((e,t)=>{let{className:a="",value:r,...l}=e;return(0,s.jsx)(i.fC,{ref:t,className:"relative h-4 w-full overflow-hidden rounded-full bg-muted ".concat(a),...l,children:(0,s.jsx)(i.z$,{className:"h-full w-full flex-1 bg-primary transition-all duration-300 ease-in-out",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});function n(e){let{current:t,total:a,label:r,showPercentage:l=!0,className:i=""}=e,n=a>0?Math.round(t/a*100):0;return(0,s.jsxs)("div",{className:"space-y-2 ".concat(i),"data-testid":"progress-bar",children:[r&&(0,s.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,s.jsx)("span",{className:"font-medium",children:r}),l&&(0,s.jsxs)("span",{className:"text-muted-foreground",children:[t,"/",a," (",n,"%)"]})]}),(0,s.jsx)(o,{value:n,className:"h-2","data-testid":"progress-bar-indicator"})]})}o.displayName=i.fC.displayName;var c=a(6399);let d=r.forwardRef((e,t)=>{let{className:a="",...r}=e;return(0,s.jsx)("div",{ref:t,className:"rounded-md border border-card-border bg-card text-card-foreground ".concat(a),...r})});d.displayName="Card";let u=r.forwardRef((e,t)=>{let{className:a="",...r}=e;return(0,s.jsx)("div",{ref:t,className:"flex flex-col space-y-1.5 p-6 ".concat(a),...r})});u.displayName="CardHeader";let m=r.forwardRef((e,t)=>{let{className:a="",...r}=e;return(0,s.jsx)("h3",{ref:t,className:"text-2xl font-semibold leading-none tracking-tight ".concat(a),...r})});m.displayName="CardTitle",r.forwardRef((e,t)=>{let{className:a="",...r}=e;return(0,s.jsx)("p",{ref:t,className:"text-sm text-muted-foreground ".concat(a),...r})}).displayName="CardDescription";let p=r.forwardRef((e,t)=>{let{className:a="",...r}=e;return(0,s.jsx)("div",{ref:t,className:"p-6 pt-0 ".concat(a),...r})});function g(e){let{currentStreak:t,longestStreak:a,className:r=""}=e;return(0,s.jsx)(d,{className:"".concat(r),"data-testid":"streak-counter",children:(0,s.jsx)(p,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-3 rounded-full ".concat(t>0?"bg-orange-100 dark:bg-orange-900":"bg-muted"),children:(0,s.jsx)(c.Z,{className:"w-6 h-6 ".concat(t>0?"text-orange-600 dark:text-orange-400":"text-muted-foreground")})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold","data-testid":"current-streak",children:t}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Racha actual"})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-xl font-semibold text-muted-foreground","data-testid":"longest-streak",children:a}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Mejor racha"})]})]})})})}p.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a="",...r}=e;return(0,s.jsx)("div",{ref:t,className:"flex items-center p-6 pt-0 ".concat(a),...r})}).displayName="CardFooter";var x=a(6337);function f(e){let{badges:t,maxDisplay:a,className:r=""}=e,l=t.filter(e=>e.unlocked),i=a?t.slice(0,a):t;return(0,s.jsxs)("div",{className:"space-y-4 ".concat(r),"data-testid":"badge-display",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Insignias"}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground","data-testid":"badge-count",children:[l.length,"/",t.length]})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:i.map(e=>(0,s.jsx)(d,{className:"transition-all ".concat(e.unlocked?"hover-elevate":"opacity-50"),"data-testid":"badge-".concat(e.id),children:(0,s.jsxs)(p,{className:"p-4 flex flex-col items-center text-center space-y-2",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"text-4xl",children:e.icon}),!e.unlocked&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-background/80 rounded-full",children:(0,s.jsx)(x.Z,{className:"w-5 h-5 text-muted-foreground"})})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"font-medium text-sm",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground line-clamp-2",children:e.description})]})]})},e.id))})]})}function h(e){let{title:t,value:a,description:r,icon:l,className:i=""}=e;return(0,s.jsxs)(d,{className:i,"data-testid":"stats-card-".concat(t.toLowerCase().replace(/\s/g,"-")),children:[(0,s.jsxs)(u,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(m,{className:"text-sm font-medium",children:t}),l&&(0,s.jsx)(l,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(p,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold","data-testid":"stats-value",children:a}),r&&(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:r})]})]})}var v=a(2934),b=a(1769),j=a(8896),N=a(3327),k=a(525),D=a(7648);let y={a1:"A1 - Principiante",a2:"A2 - Elemental",b1:"B1 - Intermedio",b2:"B2 - Intermedio Alto",c1:"C1 - Avanzado",c2:"C2 - Maestr\xeda"},A={a1:"/spanish-audio-for-beginners-a1",a2:"/spanish-audio-for-beginners-a2",b1:"/intermediate-spanish-b1",b2:"/intermediate-spanish-b2",c1:"/advanced-spanish-c1",c2:"/advanced-spanish-c2"};function C(){let[e,t]=(0,r.useState)(null),[a,i]=(0,r.useState)([]);if((0,r.useEffect)(()=>{let e=(0,l.xC)();t(e),i((0,l.i6)(e))},[]),!e)return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-pulse",children:"Cargando..."})});(0,l.Lb)(e);let o=Object.values(e.audioProgress).filter(e=>e.completed).length,c=Object.values(e.audioProgress).filter(e=>e.quizAttempts>0).length,d=e.badges.filter(e=>e.unlocked).length,u=Object.values(e.audioProgress).map(e=>e.quizScore).filter(e=>void 0!==e),m=u.length>0?Math.round(u.reduce((e,t)=>e+t,0)/u.length):0;return(0,s.jsx)("div",{className:"min-h-screen bg-background",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:"Mi Progreso"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Sigue tu avance en el aprendizaje del espa\xf1ol"})]}),(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsx)(n,{current:o,total:36,label:"Progreso General",className:"mb-4"})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,s.jsx)(h,{title:"Audios Completados",value:o,description:"de 36 totales",icon:v.Z}),(0,s.jsx)(h,{title:"Quizzes Realizados",value:c,description:"evaluaciones hechas",icon:b.Z}),(0,s.jsx)(h,{title:"Precisi\xf3n Promedio",value:"".concat(m,"%"),description:"en tus quizzes",icon:j.Z}),(0,s.jsx)(h,{title:"Insignias",value:"".concat(d,"/").concat(e.badges.length),description:"logros desbloqueados",icon:N.Z})]}),(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsx)(g,{currentStreak:e.streak.currentStreak,longestStreak:e.streak.longestStreak})}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Progreso por Nivel"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(e=>(0,s.jsx)(D.default,{href:A[e.level],className:"block","data-testid":"level-progress-".concat(e.level),children:(0,s.jsxs)("div",{className:"p-6 rounded-md border border-card-border bg-card hover-elevate transition-all",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg",children:y[e.level]}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:[e.completedAudios,"/",e.totalAudios]})]}),(0,s.jsx)(n,{current:e.completedAudios,total:e.totalAudios,showPercentage:!1}),(0,s.jsxs)("div",{className:"mt-3 flex gap-4 text-sm text-muted-foreground",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(b.Z,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:[e.totalQuizzes," quizzes"]})]}),e.averageScore>0&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(k.Z,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:[e.averageScore,"% promedio"]})]})]})]})},e.level))})]}),(0,s.jsx)("div",{children:(0,s.jsx)(f,{badges:e.badges})})]})})}},2119:function(e,t,a){"use strict";a.d(t,{AG:function(){return c},Lb:function(){return p},_d:function(){return n},i6:function(){return m},xC:function(){return l}});let s="spanish-listening-progress",r=[{id:"first-audio",name:"Primer Paso",description:"Escucha tu primer audio",icon:"\uD83C\uDFA7",category:"completion"},{id:"streak-7",name:"Una Semana",description:"Practica 7 d\xedas seguidos",icon:"\uD83D\uDD25",category:"streak"},{id:"streak-30",name:"Un Mes",description:"Practica 30 d\xedas seguidos",icon:"⭐",category:"streak"},{id:"streak-100",name:"Centenario",description:"Practica 100 d\xedas seguidos",icon:"\uD83D\uDC51",category:"streak"},{id:"complete-level-a1",name:"Principiante Completo",description:"Completa todos los audios del nivel A1",icon:"\uD83C\uDF31",category:"completion"},{id:"complete-level-a2",name:"Elemental Completo",description:"Completa todos los audios del nivel A2",icon:"\uD83C\uDF3F",category:"completion"},{id:"complete-level-b1",name:"Intermedio Completo",description:"Completa todos los audios del nivel B1",icon:"\uD83C\uDF33",category:"completion"},{id:"complete-level-b2",name:"Intermedio Alto Completo",description:"Completa todos los audios del nivel B2",icon:"\uD83C\uDFD4️",category:"completion"},{id:"complete-level-c1",name:"Avanzado Completo",description:"Completa todos los audios del nivel C1",icon:"\uD83D\uDE80",category:"completion"},{id:"complete-level-c2",name:"Maestr\xeda Completo",description:"Completa todos los audios del nivel C2",icon:"\uD83D\uDC8E",category:"completion"},{id:"perfect-score",name:"Perfeccionista",description:"Obt\xe9n 100% en 5 quizzes",icon:"\uD83D\uDCAF",category:"mastery"},{id:"quiz-master",name:"Maestro del Quiz",description:"Completa 50 quizzes",icon:"\uD83D\uDCDD",category:"mastery"},{id:"audio-lover",name:"Amante del Audio",description:"Escucha 100 audios",icon:"\uD83C\uDFB5",category:"completion"},{id:"speed-learner",name:"Aprendiz R\xe1pido",description:"Completa un nivel en menos de una semana",icon:"⚡",category:"speed"}];function l(){try{let e=localStorage.getItem(s);if(!e)return i();let t=JSON.parse(e);return{...t,createdAt:new Date(t.createdAt),lastUpdatedAt:new Date(t.lastUpdatedAt),badges:t.badges.map(e=>({...e,unlockedAt:e.unlockedAt?new Date(e.unlockedAt):void 0}))}}catch(e){return console.error("Error loading progress:",e),i()}}function i(){return{audioProgress:{},streak:{currentStreak:0,longestStreak:0,lastPracticeDate:"",totalDays:0},badges:r.map(e=>({...e,unlocked:!1})),totalListeningTime:0,createdAt:new Date,lastUpdatedAt:new Date}}function o(e){try{let t={...e,lastUpdatedAt:new Date};localStorage.setItem(s,JSON.stringify(t))}catch(e){console.error("Error saving progress:",e)}}function n(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;{let t=localStorage.getItem(s);if(t)try{var r;let s=JSON.parse(t),l=null===(r=s.audioProgress)||void 0===r?void 0:r[e];if(l&&(l.listenPercentage||0)>=a)return}catch(e){}}let i=l();i.audioProgress[e]||(i.audioProgress[e]={audioId:e,level:t,completed:!1,quizAttempts:0,listenPercentage:0}),i.audioProgress[e].listenedAt=new Date,i.audioProgress[e].listenPercentage=Math.max(i.audioProgress[e].listenPercentage||0,a),d(i),u(i),o(i)}function c(e,t,a){let s=l();s.audioProgress[e]||(s.audioProgress[e]={audioId:e,level:t,completed:!1,quizAttempts:0,listenPercentage:0});let r=s.audioProgress[e];r.quizScore=a,r.quizAttempts+=1,r.completed=!0,d(s),u(s),o(s)}function d(e){let t=new Date().toISOString().split("T")[0],a=e.streak.lastPracticeDate;if(!a){e.streak.currentStreak=1,e.streak.longestStreak=1,e.streak.totalDays=1,e.streak.lastPracticeDate=t;return}if(a===t)return;let s=new Date;s.setDate(s.getDate()-1),a===s.toISOString().split("T")[0]?(e.streak.currentStreak+=1,e.streak.longestStreak=Math.max(e.streak.longestStreak,e.streak.currentStreak)):e.streak.currentStreak=1,e.streak.totalDays+=1,e.streak.lastPracticeDate=t}function u(e){let t=m(e);e.badges.forEach(a=>{var s,r,l,i,o,n;if(a.unlocked)return;let c=!1;switch(a.id){case"first-audio":c=Object.keys(e.audioProgress).length>=1;break;case"streak-7":c=e.streak.currentStreak>=7;break;case"streak-30":c=e.streak.currentStreak>=30;break;case"streak-100":c=e.streak.currentStreak>=100;break;case"complete-level-a1":c=(null===(s=t.find(e=>"a1"===e.level))||void 0===s?void 0:s.completedAudios)===6;break;case"complete-level-a2":c=(null===(r=t.find(e=>"a2"===e.level))||void 0===r?void 0:r.completedAudios)===6;break;case"complete-level-b1":c=(null===(l=t.find(e=>"b1"===e.level))||void 0===l?void 0:l.completedAudios)===6;break;case"complete-level-b2":c=(null===(i=t.find(e=>"b2"===e.level))||void 0===i?void 0:i.completedAudios)===6;break;case"complete-level-c1":c=(null===(o=t.find(e=>"c1"===e.level))||void 0===o?void 0:o.completedAudios)===6;break;case"complete-level-c2":c=(null===(n=t.find(e=>"c2"===e.level))||void 0===n?void 0:n.completedAudios)===6;break;case"perfect-score":c=Object.values(e.audioProgress).filter(e=>100===e.quizScore).length>=5;break;case"quiz-master":c=Object.values(e.audioProgress).filter(e=>e.quizAttempts>0).length>=50;break;case"audio-lover":c=Object.keys(e.audioProgress).length>=100}c&&(a.unlocked=!0,a.unlockedAt=new Date)})}function m(e){return["a1","a2","b1","b2","c1","c2"].map(t=>{let a=Object.values(e.audioProgress).filter(e=>e.level===t),s=a.filter(e=>e.completed).length,r=a.map(e=>e.quizScore).filter(e=>void 0!==e);return{level:t,totalAudios:6,completedAudios:s,averageScore:r.length>0?Math.round(r.reduce((e,t)=>e+t,0)/r.length):0,totalQuizzes:a.filter(e=>e.quizAttempts>0).length}})}function p(e){return Math.round(Object.values(e.audioProgress).filter(e=>e.completed).length/36*100)}}},function(e){e.O(0,[972,443,971,117,744],function(){return e(e.s=7325)}),_N_E=e.O()}]);